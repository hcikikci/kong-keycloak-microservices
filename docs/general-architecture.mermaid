graph TD
    Client[Client Applications] -->|Request| Kong[Kong API Gateway]
    Kong -->|Protected API Requests| Microservices[Microservices]
    Kong -->|Authenticate/Authorize| Keycloak[Keycloak Auth Server]
    Keycloak -->|User Info/Validation| Kong
    
    subgraph Databases
        KongDB[(Kong Database)]
        KeycloakDB[(Keycloak Database)]
    end
    
    Kong -->|Store Config/Data| KongDB
    Keycloak -->|Store Users/Config| KeycloakDB
    
    style Kong fill:#77b3d4,stroke:#333,stroke-width:2px
    style Keycloak fill:#87bc45,stroke:#333,stroke-width:2px
    style Client fill:#f5a742,stroke:#333,stroke-width:2px
    style Microservices fill:#b276b2,stroke:#333,stroke-width:2px
    style Databases fill:#f5f5f5,stroke:#333,stroke-width:1px